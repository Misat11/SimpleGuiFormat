dependencies {
    shade screaming('material-bukkit', SCREAMING_LIB_VERSION)
    shade screaming('player-bukkit', SCREAMING_LIB_VERSION)
    shade 'org.spongepowered:configurate-yaml:' + CONFIGURATE_VERSION
    shade project(':core-common')
    shade project(':core-bukkit')

    shade 'cloud.commandframework:cloud-paper:1.3.0'
    compileOnly paper("1.16.4")
}

shadowJar {
    relocate 'org.screamingsandals.lib', 'org.screamingsandals.simpleinventories.lib'
    relocate 'cloud.commandframework', 'org.screamingsandals.simpleinventories.lib.cloud'
    relocate 'io.leangen.geantyref', 'org.screamingsandals.simpleinventories.lib.geantyref'
    relocate 'org.spongepowered.configurate', 'org.screamingsandals.simpleinventories.lib.configurate'
}

enableSpigradleSpigot()

project.tasks.getByName('detectSpigotMain').enabled = true
project.tasks.getByName('generateSpigotDescription').enabled = true

spigot {
	name = 'SimpleInventories'
    authors = ['ScreamingSandals']
    apiVersion = '1.13'
    load = POST_WORLD
}