enableShadowPlugin()

dependencies {
    implementation screaming('material-bukkit', SCREAMING_LIB_VERSION)
    implementation screaming('player-bukkit', SCREAMING_LIB_VERSION)
    implementation project(':core-bukkit')

    implementation 'cloud.commandframework:cloud-paper:1.3.0'
    compileOnly paper("1.16.4")
}

shadowJar {
    relocate 'org.screamingsandals.lib', 'org.screamingsandals.simpleinventories.lib'
    relocate 'cloud.commandframework', 'org.screamingsandals.simpleinventories.lib.cloud'
    relocate 'io.leangen.geantyref', 'org.screamingsandals.simpleinventories.lib.geantyref'
    relocate 'org.spongepowered.configurate', 'org.screamingsandals.simpleinventories.lib.configurate'
}

// TODO: replace that with ScreamingLib

apply plugin: kr.entree.spigradle.module.spigot.SpigotPlugin.class

project.tasks.getByName('detectSpigotMain').enabled = true
project.tasks.getByName('generateSpigotDescription').enabled = true

spigot {
	name = 'SimpleInventories'
    authors = ['ScreamingSandals']
    apiVersion = '1.13'
    load = POST_WORLD
}